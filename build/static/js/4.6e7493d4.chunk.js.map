{"version":3,"sources":["components/MovieDetailsPage/MovieDetailsPage.js","shared/Loader/index.js","services/movieApi.js","components/Header/Header.module.css","components/Header/Header.js","components/MovieDetailsPage/MovieDetailsPage.module.css"],"names":["MovieDetailsPage","state","movie","path","search","handleGoBack","props","history","location","from","pathname","push","routes","home","movieId","this","match","params","baseHttpService","fetchMovieDetails","then","setState","genres","overview","img","date","Number","parseInt","release_date","map","genre","name","join","poster_path","Header","className","type","onClick","styles","btn","movieDetails","src","poster","alt","title","vote_average","container","linkBox","exact","to","id","link","activeClassName","activeLink","Component","baseURL","key","language","fetchPopularMovies","get","fetchMoviesWithQuery","searchQuery","page","fetchMovieCast","fetchMovieReviews","url","axios","res","data","module","exports","navigationLinkContainer","navigationLink","navigationLinkActive"],"mappings":"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","file":"static/js/4.6e7493d4.chunk.js","sourcesContent":["import React, { Component } from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport ImageLoader from '../../shared/Loader';\r\nimport routes from '../../routes';\r\nimport Header from '../Header';\r\n\r\nimport baseHttpService from '../../services/movieApi';\r\nimport styles from './MovieDetailsPage.module.css';\r\n\r\nclass MovieDetailsPage extends Component {\r\n  state = {\r\n    movie: '',\r\n    path: '',\r\n    search: '',\r\n  };\r\n\r\n  componentDidMount() {\r\n    const { match } = this.props;\r\n    const { movieId } = match.params;\r\n    baseHttpService.fetchMovieDetails(movieId).then(movie => {\r\n      this.setState({\r\n        movie,\r\n        path: this.props.location.state.from.pathname,\r\n        search: this.props.location.state.from.search,\r\n      });\r\n    });\r\n    // .catch(error => (error ? this.props.history.push('/') : ''));\r\n  }\r\n\r\n  handleGoBack = () => {\r\n    const { history, location } = this.props;\r\n\r\n    if (location.state) {\r\n      location.state.from.search = this.state.search;\r\n      location.state.from.pathname = this.state.path;\r\n      history.push(location.state.from);\r\n      return;\r\n    }\r\n    this.props.history.push(routes.home);\r\n  };\r\n\r\n  render() {\r\n    const { movie } = this.state;\r\n    const date = Number.parseInt(movie.release_date);\r\n    let genres;\r\n    let overview;\r\n    let img;\r\n    if (movie.genres) {\r\n      genres = movie.genres.map(genre => genre.name).join(' ');\r\n    }\r\n    movie.overview\r\n      ? (overview = movie.overview)\r\n      : (overview = 'No overview found for this movie');\r\n\r\n    movie.poster_path\r\n      ? (img = `https://image.tmdb.org/t/p/w300/${movie.poster_path}`)\r\n      : (img =\r\n          'https://rimatour.com/wp-content/uploads/2017/09/No-image-found.jpg');\r\n    return movie ? (\r\n      <>\r\n        <Header />\r\n        <div className=\"container\">\r\n          <button\r\n            type=\"button\"\r\n            onClick={this.handleGoBack}\r\n            className={styles.btn}\r\n          >\r\n            Go Back\r\n          </button>\r\n          <div className={styles.movieDetails}>\r\n            <img src={img} className={styles.poster} alt={movie.title} />\r\n            <div>\r\n              <h2 className={styles.name}>\r\n                {movie.title}({date})\r\n              </h2>\r\n              <p>User score: {movie.vote_average * 10}%</p>\r\n              <h3>Overview</h3>\r\n              <p>{overview}</p>\r\n              <h3>Genres</h3>\r\n              <p>{genres}</p>\r\n            </div>\r\n          </div>\r\n          <div className={styles.container}>\r\n            <h2 className={styles.title}>Additional information</h2>\r\n            <ul className={styles.linkBox}>\r\n              <li>\r\n                <NavLink\r\n                  exact\r\n                  to={{\r\n                    pathname: `/movies/${movie.id}/cast`,\r\n                    state: { from: this.props.location },\r\n                  }}\r\n                  className={styles.link}\r\n                  activeClassName={styles.activeLink}\r\n                >\r\n                  Cast\r\n                </NavLink>\r\n              </li>\r\n              <li>\r\n                <NavLink\r\n                  exact\r\n                  to={{\r\n                    pathname: `/movies/${movie.id}/reviews`,\r\n                    state: { from: this.props.location },\r\n                  }}\r\n                  className={styles.link}\r\n                  activeClassName={styles.activeLink}\r\n                >\r\n                  Reviews\r\n                </NavLink>\r\n              </li>\r\n            </ul>\r\n          </div>\r\n        </div>\r\n      </>\r\n    ) : (\r\n      <ImageLoader />\r\n    );\r\n  }\r\n}\r\n\r\nexport default MovieDetailsPage;","export { default } from './Loader';","import axios from 'axios';\r\n\r\nclass BaseHttpService {\r\n  baseURL = 'https://api.themoviedb.org/3/';\r\n  key = '4b09b9f11ab38c2c9b3fb8d82d1b956b';\r\n  language = 'en-US';\r\n  fetchPopularMovies = () => {\r\n    return this.get(`trending/movie/day?api_key=${this.key}&adult=false`);\r\n  };\r\n\r\n  fetchMoviesWithQuery = (searchQuery, page = 1) => {\r\n    return this.get(\r\n      `search/movie?api_key=${this.key}&language=${this.language}&query=${searchQuery}&page=${page}&include_adult=false`,\r\n    );\r\n  };\r\n\r\n  fetchMovieDetails = id => {\r\n    return this.get(\r\n      `movie/${id}?api_key=${this.key}&language=${this.language}`,\r\n    );\r\n  };\r\n\r\n  fetchMovieCast = id => {\r\n    return this.get(\r\n      `movie/${id}/credits?api_key=${this.key}&language=${this.language}`,\r\n    );\r\n  };\r\n\r\n  fetchMovieReviews = id => {\r\n    return this.get(\r\n      `movie/${id}/reviews?api_key=${this.key}&language=${this.language}`,\r\n    );\r\n  };\r\n  \r\n  get = (url = '') => {\r\n    return axios.get(`${this.baseURL}${url}`).then(res => res.data);\r\n  };\r\n}\r\n\r\nconst baseHttpService = new BaseHttpService();\r\n\r\nexport default baseHttpService;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"navigationLinkContainer\":\"Header_navigationLinkContainer__1X1eq\",\"navigationLink\":\"Header_navigationLink__ZobDm\",\"navigationLinkActive\":\"Header_navigationLinkActive__3hfUh\"};","import React from 'react';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styles from './Header.module.css';\r\n\r\nconst Header = () => {\r\n  return (\r\n    <div className={styles.navigationLinkContainer}>\r\n      <NavLink\r\n        exact\r\n        to=\"/\"\r\n        className={styles.navigationLink}\r\n        activeClassName={styles.navigationLinkActive}\r\n      >\r\n        Home\r\n      </NavLink>\r\n      <NavLink\r\n        to=\"/movies\"\r\n        className={styles.navigationLink}\r\n        activeClassName={styles.navigationLinkActive}\r\n      >\r\n        Movies\r\n      </NavLink>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Header;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"btn\":\"MovieDetailsPage_btn__ZKEjK\",\"movieDetails\":\"MovieDetailsPage_movieDetails__3AfvI\",\"poster\":\"MovieDetailsPage_poster__1GuOT\",\"name\":\"MovieDetailsPage_name__1xR7c\",\"container\":\"MovieDetailsPage_container__14xx-\",\"title\":\"MovieDetailsPage_title__nMAQj\",\"linkBox\":\"MovieDetailsPage_linkBox__V9kpV\",\"link\":\"MovieDetailsPage_link__3JUmJ\",\"activeLink\":\"MovieDetailsPage_activeLink__1ZLlA\"};"],"sourceRoot":""}